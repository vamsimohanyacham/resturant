{"ast":null,"code":"var _jsxFileName = \"/home/nxtwave/reactjs/coding-practices/enhancementOfRestaurantApp/src/components/Home/index.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useContext } from 'react';\nimport Header from '../Header';\nimport DishItem from '../DishItem';\nimport CartContext from '../../context/CartContext';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const [isLoading, setIsLoading] = useState(true);\n  const [response, setResponse] = useState([]);\n  const [activeCategoryId, setActiveCategoryId] = useState('');\n  const {\n    cartList,\n    setRestaurantName\n  } = useContext(CartContext);\n  const getUpdatedData = tableMenuList => tableMenuList.map(eachMenu => ({\n    menuCategory: eachMenu.menu_category,\n    menuCategoryId: eachMenu.menu_category_id,\n    menuCategoryImage: eachMenu.menu_category_image,\n    categoryDishes: eachMenu.category_dishes.map(eachDish => ({\n      dishId: eachDish.dish_id,\n      dishName: eachDish.dish_name,\n      dishPrice: eachDish.dish_price,\n      dishImage: eachDish.dish_image,\n      dishCurrency: eachDish.dish_currency,\n      dishCalories: eachDish.dish_calories,\n      dishDescription: eachDish.dish_description,\n      dishAvailability: eachDish.dish_Availability,\n      dishType: eachDish.dish_Type,\n      addonCat: eachDish.addonCat\n    }))\n  }));\n  const fetchRestaurantApi = async () => {\n    const api = 'https://run.mocky.io/v3/77a7e71b-804a-4fbd-822c-3e365d3482cc';\n    const apiResponse = await fetch(api);\n    const data = await apiResponse.json();\n    const updatedData = getUpdatedData(data[0].table_menu_list);\n    setResponse(updatedData);\n    setRestaurantName(data[0].restaurant_name);\n    setActiveCategoryId(updatedData[0].menuCategoryId);\n    setIsLoading(false);\n  };\n  useEffect(() => {\n    fetchRestaurantApi();\n  }, []);\n  const onUpdateActiveCategoryIdx = menuCategoryId => setActiveCategoryId(menuCategoryId);\n  const addItemToCart = () => {};\n  const removeItemFromCart = () => {};\n  const renderTabMenuList = () => response.map(eachCategory => {\n    const onClickHandler = () => onUpdateActiveCategoryIdx(eachCategory.menuCategoryId);\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      className: `each-tab-item ${eachCategory.menuCategoryId === activeCategoryId ? 'active-tab-item' : ''}`,\n      onClick: onClickHandler,\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"mt-0 mb-0 ms-2 me-2 tab-category-button\",\n        children: eachCategory.menuCategory\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)\n    }, eachCategory.menuCategoryId, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this);\n  });\n  const renderDishes = () => {\n    const {\n      categoryDishes\n    } = response.find(eachCategory => eachCategory.menuCategoryId === activeCategoryId);\n    return /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"m-0 d-flex flex-column dishes-list-container\",\n      children: categoryDishes.map(eachDish => /*#__PURE__*/_jsxDEV(DishItem, {\n        dishDetails: eachDish,\n        addItemToCart: addItemToCart,\n        removeItemFromCart: removeItemFromCart\n      }, eachDish.dishId, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this);\n  };\n  const renderSpinner = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"spinner-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"spinner-border\",\n      role: \"status\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n  return isLoading ? renderSpinner() : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-background\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      cartItems: cartList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"m-0 ps-0 d-flex tab-container\",\n      children: renderTabMenuList()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), renderDishes()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"dRm2y8cuuOI8rvPnlqVGSgmGkZA=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useState","useEffect","useContext","Header","DishItem","CartContext","jsxDEV","_jsxDEV","Home","_s","isLoading","setIsLoading","response","setResponse","activeCategoryId","setActiveCategoryId","cartList","setRestaurantName","getUpdatedData","tableMenuList","map","eachMenu","menuCategory","menu_category","menuCategoryId","menu_category_id","menuCategoryImage","menu_category_image","categoryDishes","category_dishes","eachDish","dishId","dish_id","dishName","dish_name","dishPrice","dish_price","dishImage","dish_image","dishCurrency","dish_currency","dishCalories","dish_calories","dishDescription","dish_description","dishAvailability","dish_Availability","dishType","dish_Type","addonCat","fetchRestaurantApi","api","apiResponse","fetch","data","json","updatedData","table_menu_list","restaurant_name","onUpdateActiveCategoryIdx","addItemToCart","removeItemFromCart","renderTabMenuList","eachCategory","onClickHandler","className","onClick","children","type","fileName","_jsxFileName","lineNumber","columnNumber","renderDishes","find","dishDetails","renderSpinner","role","cartItems","_c","$RefreshReg$"],"sources":["/home/nxtwave/reactjs/coding-practices/enhancementOfRestaurantApp/src/components/Home/index.js"],"sourcesContent":["import {useState, useEffect, useContext} from 'react'\n\nimport Header from '../Header'\nimport DishItem from '../DishItem'\n\nimport CartContext from '../../context/CartContext'\n\nimport './index.css'\n\nconst Home = () => {\n  const [isLoading, setIsLoading] = useState(true)\n  const [response, setResponse] = useState([])\n  const [activeCategoryId, setActiveCategoryId] = useState('')\n\n  const {cartList, setRestaurantName} = useContext(CartContext)\n\n  const getUpdatedData = tableMenuList =>\n    tableMenuList.map(eachMenu => ({\n      menuCategory: eachMenu.menu_category,\n      menuCategoryId: eachMenu.menu_category_id,\n      menuCategoryImage: eachMenu.menu_category_image,\n      categoryDishes: eachMenu.category_dishes.map(eachDish => ({\n        dishId: eachDish.dish_id,\n        dishName: eachDish.dish_name,\n        dishPrice: eachDish.dish_price,\n        dishImage: eachDish.dish_image,\n        dishCurrency: eachDish.dish_currency,\n        dishCalories: eachDish.dish_calories,\n        dishDescription: eachDish.dish_description,\n        dishAvailability: eachDish.dish_Availability,\n        dishType: eachDish.dish_Type,\n        addonCat: eachDish.addonCat,\n      })),\n    }))\n\n  const fetchRestaurantApi = async () => {\n    const api = 'https://run.mocky.io/v3/77a7e71b-804a-4fbd-822c-3e365d3482cc'\n    const apiResponse = await fetch(api)\n    const data = await apiResponse.json()\n    const updatedData = getUpdatedData(data[0].table_menu_list)\n    setResponse(updatedData)\n    setRestaurantName(data[0].restaurant_name)\n    setActiveCategoryId(updatedData[0].menuCategoryId)\n    setIsLoading(false)\n  }\n\n  useEffect(() => {\n    fetchRestaurantApi()\n  }, [])\n\n  const onUpdateActiveCategoryIdx = menuCategoryId =>\n    setActiveCategoryId(menuCategoryId)\n\n  const addItemToCart = () => {}\n\n  const removeItemFromCart = () => {}\n\n  const renderTabMenuList = () =>\n    response.map(eachCategory => {\n      const onClickHandler = () =>\n        onUpdateActiveCategoryIdx(eachCategory.menuCategoryId)\n\n      return (\n        <li\n          className={`each-tab-item ${\n            eachCategory.menuCategoryId === activeCategoryId\n              ? 'active-tab-item'\n              : ''\n          }`}\n          key={eachCategory.menuCategoryId}\n          onClick={onClickHandler}\n        >\n          <button\n            type=\"button\"\n            className=\"mt-0 mb-0 ms-2 me-2 tab-category-button\"\n          >\n            {eachCategory.menuCategory}\n          </button>\n        </li>\n      )\n    })\n\n  const renderDishes = () => {\n    const {categoryDishes} = response.find(\n      eachCategory => eachCategory.menuCategoryId === activeCategoryId,\n    )\n\n    return (\n      <ul className=\"m-0 d-flex flex-column dishes-list-container\">\n        {categoryDishes.map(eachDish => (\n          <DishItem\n            key={eachDish.dishId}\n            dishDetails={eachDish}\n            addItemToCart={addItemToCart}\n            removeItemFromCart={removeItemFromCart}\n          />\n        ))}\n      </ul>\n    )\n  }\n\n  const renderSpinner = () => (\n    <div className=\"spinner-container\">\n      <div className=\"spinner-border\" role=\"status\" />\n    </div>\n  )\n\n  return isLoading ? (\n    renderSpinner()\n  ) : (\n    <div className=\"home-background\">\n      <Header cartItems={cartList} />\n      <ul className=\"m-0 ps-0 d-flex tab-container\">{renderTabMenuList()}</ul>\n      {renderDishes()}\n    </div>\n  )\n}\n\nexport default Home"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}